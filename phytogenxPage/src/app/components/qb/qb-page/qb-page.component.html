 <!-- Navigation-->
 <!DOCTYPE html>
 <html lang="en">
    <body>
        <div class="masthead bg-primary">                    
                    <button type="button" class="icon" mat-icon-button>
                        <i class="marg-3 material-icons">add_box</i>
                    </button>  
                    <input type="text" class="inputfilter" matInput placeholder="Filter Table" search (keyup)="applyFilter($event)" #input/>
                <div class="bg-primary">
                    <table class="table-primary table table-striped" mat-table matSort [dataSource]="dataSource">
                        <ng-container matColumnDef="ID">
                            <th *matHeaderCellDef> # </th>
                            
                            <td class="center" *matCellDef="let col">
                                {{col.ID}}
                            </td>
                        </ng-container>
                        
                        <ng-container  matColumnDef="PO_Number">
                            <th *matHeaderCellDef> PO Number </th>
                            <td class="center" *matCellDef="let col"> {{col.PO_Number}} </td>
                        </ng-container>

                        <ng-container  matColumnDef="Invoice">
                            <th *matHeaderCellDef> Invoice </th>
                            <td class="center" *matCellDef="let col"> {{col.Invoice_Number}} </td>
                        </ng-container>

                        <form [formGroup]="qbUpdateForm">
                            <ng-container matColumnDef="Reason">
                                <th *matHeaderCellDef> 
                                    Reason 
                                    <mat-error *ngIf="isValidField('reason')">
                                        {{getErrorMessage("reason")}}
                                    </mat-error>
                                </th>
                                <td class="center" *matCellDef="let col">
                                    <mat-form-field class="full-width-input">
                                        <mat-label>Select reason</mat-label>
                                        <mat-select formControlName="reason">   
                                            <mat-option value="Opcion 1">1</mat-option>
                                            <mat-option value="Opcion 2">2</mat-option>
                                            <mat-option value="Other">Other</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="Comment">
                                <th *matHeaderCellDef> 
                                    Comment
                                    <mat-error *ngIf="isValidField('comment')">
                                        {{getErrorMessage("comment")}}
                                    </mat-error>
                                </th>
                                <td class="center" *matCellDef="let col">
                                    <mat-form-field class="full-width-input">
                                        <mat-label>comment</mat-label>
                                        <textarea matInput formControlName="comment" rows="1" cols="40">Comment</textarea>
                                    </mat-form-field>
                                </td>
                            </ng-container>

                            <ng-container  matColumnDef="NamePDF">
                                <th *matHeaderCellDef> Final PDF name
                                    <mat-error *ngIf="isValidField('NamePDF')">
                                        {{getErrorMessage("NamePDF")}}
                                    </mat-error>
                                 </th>
                                <td class="center" *matCellDef="let col">
                                    <mat-form-field class="full-width-input">
                                        <mat-label>PDF</mat-label>
                                        <input matInput type="text" formControlName="NamePDF">
                                    </mat-form-field>    
                                </td>
                            </ng-container>

                           <ng-container matColumnDef="Date_invoice_recieved">
                                <th *matHeaderCellDef> 
                                    Date invoce recived
                                    <mat-error *ngIf="isValidField('invoceDate')">
                                        {{getErrorMessage("invoceDate")}}
                                    </mat-error>
                                </th>
                                <td class="center" required *matCellDef="let col">  
                                    <mat-form-field class="full-width-input">
                                        <mat-label>Date</mat-label>
                                        <input matInput formControlName="invoceDate" type="datetime-local" max="{{today}}">   
                                    </mat-form-field>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="Actions">
                                <th class="marg-th" *matHeaderCellDef> Actions </th>
                                <td class="center" *matCellDef="let col">
                                    <button 
                                    class="submit-button"
                                    type="submit"
                                    (click)="onUpdate(col.ID)"
                                    [disabled]="qbUpdateForm.invalid">
                                        <mat-icon>cloud_upload</mat-icon>
                                    </button>
                                    <i class="marg-3 material-icons" (click)="openDialog(col.ID,'0ms', '0ms')">delete</i>
                                </td>
                            </ng-container>
                        </form>

                        <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
                        <tr mat-row *matRowDef="let col; columns: displayedColumn"></tr>

                        <!-- SHOWS WHEN DATA DOES NOT EXIST -->
                        <tr *matNoDataRow>
                        <td class="mat-cell" colspan = "4" > The filter does not match any
                        item in the data for this text {{input.value}} </td>
                        </tr>
                    </table>
                    <mat-paginator class="bg-primary" [pageSizeOptions]="[10,20,30,40,50]" aria-labels="select page of data">
                    </mat-paginator>
                </div>
          
        </div>
    </body>
 </html>

 

